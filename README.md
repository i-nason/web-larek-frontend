# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
## Архитектура и базовые классы

Проект построен по архитектуре MVP (Model-View-Presenter) с событийно-ориентированным подходом.

Слои архитектуры:
- Модели: хранят и управляют данными (товары, корзина, заказ)
- Представления: отображают интерфейс, слушают действия пользователя
- Презентер: реализован в index.ts, обрабатывает события и координирует работу модели и представления

### Базовые классы

EventEmitter – класс для управления событиями между частями приложения.

Назначение: обеспечивает полную событийную модель.

Функции:
	•	on(eventName, callback) — подписка на событие
	•	off(eventName, callback) — удаление подписки
	•	emit(eventName, data) — генерация события
	•	trigger(eventName, context) — генерация события из колбэка

### Описание компонентов

#### Модальные окна

ModalView

Назначение: универсальный компонент, встраивает любую разметку в модальное окно.

Особенности:
- Один экземпляр
- Может отображать карточку товара, корзину, формы

#### Карточки товаров

ProductCardView

Назначение: отображает карточку товара в каталоге или в увеличенном виде.

Использует темплейты:
- #card-catalog — карточка в галерее
- #card-preview — карточка в модальном окне

Функции:
- Рендер карточки
- Генерация события card:select, card:add, card:remove

#### Корзина

BasketView

Назначение: отображает список товаров и общую сумму в модалке.

Функции:
- Удаление товара
- Отправка на оформление
- Генерация событий: basket:remove, basket:submit

#### Формы заказа

OrderFormView (шаг 1)

Назначение: выбор оплаты и ввод адреса

ContactsFormView (шаг 2)

Назначение: ввод email и телефона

Особенности:
- Управляют кнопками «Далее» / «Оплатить»
- Проверяют валидность полей
- Генерация событий order:ready, contacts:ready

#### Экран успеха

SuccessView

Назначение: отображает финальное сообщение об успешной оплате.

### Модели данных

#### CatalogModel

Хранит: массив товаров с сервера
Методы:
- setItems(items)
- getItemById(id)

События:
- catalog:changed

#### BasketModel

Хранит: список товаров и сумму

Методы:
- addItem(product)
- removeItem(id)
- clear()

События:
- basket:changed

#### OrderModel

Хранит: текущие данные заказа

Методы:
- setPayment(method)
- setAddress(text)
- setContacts(email, phone)
- submit()

События:
- order:ready, order:submitted

### Типы данных

#### IProductItem

Данные о товаре (title, price, description, image…)

#### IBasketItem

Упрощённые данные о товаре в корзине

#### IOrder

Полный заказ (способ оплаты, адрес, email, телефон, товары)

